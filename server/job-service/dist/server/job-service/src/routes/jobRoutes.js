"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const JobService_1 = __importDefault(require("../services/JobService"));
const prismaClient_1 = __importDefault(require("../config/prismaClient"));
const JobRepository_1 = __importDefault(require("../repositories/JobRepository"));
const jobController_1 = __importDefault(require("../controllers/jobController"));
const validateRequest_1 = require("../middlewares/validateRequest");
const JobApplicationRepository_1 = __importDefault(require("../repositories/JobApplicationRepository"));
const router = express_1.default.Router();
const jobRepository = new JobRepository_1.default(prismaClient_1.default);
const jobApplicationRepository = new JobApplicationRepository_1.default(prismaClient_1.default);
const jobService = new JobService_1.default(jobRepository, jobApplicationRepository);
const jobController = new jobController_1.default(jobService);
router.get("/brief", jobController.getAllJobsBrief);
// router.get("/", jobController.getFilteredJobs);
router.get("/", jobController.getAllJobs);
router.post("/", validateRequest_1.validateJob, jobController.createJob);
router.get("/company", jobController.getCompanyJobs);
router.get("/filter", jobController.getFilteredJobs);
// router.post("/apply", jobController.applyJob);
// router.get("/apply/:id", jobController.getApplicationStatus);
// router.get("/my-applications", jobController.getAllApplications);
router.patch("/:id", jobController.updateJob);
router.get("/:id", jobController.getJob);
exports.default = router;
